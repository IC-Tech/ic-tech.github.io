/*!
 * ic-tech.github.io v1.0.0
 * https://ic-tech.github.io/
 * Copyright © 2021 Imesh Chamara
 * Released under the ISC License
 */
!function(){"use strict";const t=(t,e,s={},i=null)=>{s=s||{};var a=new XMLHttpRequest;a.open(s.meth||(i&&!s.meth?"POST":"GET"),t+(0==s.fresh?"":(t.indexOf("?")>=0?"&":"?")+"t="+(new Date).getTime())),Object.keys(s.head||{}).forEach((t=>a.setRequestHeader(t,s.head[t]))),a.onreadystatechange=()=>{if(4==a.readyState&&0!=a.status){if(!a.response)return e({success:!1,error:{code:3,message:"server did not respond"}});try{e(s.raw?a.response:JSON.parse(a.response))}catch(t){e({success:!1,error:{code:4,message:"response could not parse"}})}}},a.onerror=()=>e({success:!1,error:{code:1,message:"network error occurred"}}),a.ontimeout=()=>e({success:!1,error:{code:2,message:"request timed out"}}),a.send(i)};var e=(t,e)=>e?t instanceof i?t:new i(t):t instanceof i?t.v:t,s=t=>t instanceof Array?t:[t];class i{constructor(t,e){return this.v=e?i.ce(t,"string"==typeof e||"object"==typeof e?e:{}):"string"==typeof t?i.qs(t):t,null==t||null==t?t:this}get c(){return Array.from(this.v.classList).map((t=>new i(t)))}get cl(){return this.v.classList}get ch(){return this.v.children}get chn(){return this.v.childNodes}ap(t){return this.v.appendChild(e(t)),this}chr(t){if(t)s(t).forEach((t=>e(t,1).rem()));else for(;this.ch.length>0;)this.ch[0].remove();return this}cla(t){return this.cl.add(...s(t)),this}clr(t){return this.cl.remove(...s(t)),this}clc(t){return!s(t).some((t=>!this.cl.contains(t)))}get st(){return this.v.style}get d(){return this.v.dataset}set stp(t){this.st.setProperty(t[0],t[1])}get txt(){return this.v.innerText}set txt(t){this.v.innerText=t}get html(){return this.v.innerHTML}set html(t){this.v.innerHTML=t}ga(t){return this.v.getAttribute(t)}ra(t,e){return this.v.removeAttribute(t),this}sa(t,e){return this.v.setAttribute(t,e),this}ae(t,e){return this.v.addEventListener(t,e),this}get p(){return new i(this.v.parentElement)}get tag(){return this.v.tagName}get node(){return this.v.nodeName}get val(){return this.v.value}set val(t){this.v.value=t}rem(){return this.v.remove(),this}get prev(){return new i(this.v.previousElementSibling)}get prevN(){return new i(this.v.previousSibling)}get next(){return new i(this.v.nextElementSibling)}get nextN(){return new i(this.v.nextSibling)}static get d(){return document}static qs(t){return this.d.querySelector(t)}static qsa(t){return this.d.querySelectorAll(t)}static ce(t,e={}){var s=0;return[["#cdata-section","createCDATASection"],["#comment","createComment"],["#document-fragment","createDocumentFragment"],["#text","createTextNode"]].some((e=>e[0]==t?[s=e[1]]:0))?this.d[s](e):this.d.createElement(t,e)}static cen(t,e){return this.d.createElementNS(t,e)}static ds(t){return new i(Object.keys(t).map((e=>`[data-${e}="${t[e]}"]`)).join(""))}}const a=!("undefined"==typeof __IC_DEV__||!__IC_DEV__),r=t=>t||"string"==typeof t||"number"==typeof t&&0==t,n=(t,e)=>Object.keys(t).forEach((t=>e(t))),o=t=>t instanceof Array?t:Object.keys(t).map((e=>[e,t[e]])),h=t=>t instanceof Array?t:[t],c=t=>{if("string"==typeof t.d&&(t.d={t:"#text",_txt:t.d,nodes:1,e:{data:t.d}}),t.cr&&t.cr.ap(t.e=new i(t.d.t,t.d.t.startsWith("#")?t.d._txt:{})),r(t.d.t)&&t.e.node.toUpperCase()!=t.d.t.toUpperCase()&&(t.e.p.v.replaceChild((t.t=new i(t.d.t,t.d.t.startsWith("#")?t.d._txt:{})).v,t.e.v),t.e=t.t),t.d.s&&(t.t=e=>t.d.s[e]!=t.e.st[e]?[t.e.st[e]=t.d.s[e]]:0,n(t.d.s,t.t)),t.d.at&&o(t.d.at).forEach((e=>r(e[1])?t.e.ga(e[0])!=e[1].toString()?t.e.sa(...e):0:null==e[1]?t.e.ra(e[0]):0)),t.d.d&&o(t.d.d).forEach((e=>e[1].toString()!=t.e.d[e[0]]?[t.e.d[e[0]]=e[1].toString()]:0)),t.d.cl&&(t.t=[],h(t.d.cl).forEach((e=>e.toString().split(/ /g).forEach((e=>t.t.push(e))))),t.e.clc(t.t)||t.e.cla(t.t),t.e.cl.forEach((e=>t.t.indexOf(e)>=0?0:t.e.clr(e)))),r(t.d.html)&&t.e.html!=t.d.html&&(t.e.html=t.d.html),r(t.d.txt)&&t.e.txt!=t.d.txt&&(t.e.txt=t.d.txt),t.d.e&&o(t.d.e).forEach((e=>t.e.v[e[0]]!=e[1]?t.e.v[e[0]]=e[1]:0)),!t.d.noupdate&&t.d.ch)for(t.t=t.e[t.d.nodes?"chn":"ch"],t.d.ch.forEach(((e,s)=>r(e)?c(t.t[s]?{e:new i(t.t[s]),d:e}:{cr:t.e,d:e}):0));t.d.ch.length<t.t.length;)t.t[t.t.length-1].remove();return r(t.d.id)&&(t.e.id=t.d.id),t};class d{constructor(){this._elm=c.bind(this),this.e=null,this.a=!1,this.pevData=null,a&&(window.__IC_DEV__[this.constructor.name]=this)}update(t){if(this.data&&(this.willUpdate&&(this.pevData=Object.assign({},this.data)),Object.assign(this.data,t)),this.render&&(void 0===this.willUpdate||!this.willUpdate())){var e=this.render();this._elm({e:this.e,d:{ch:void 0===e.length?[e]:e}}),this.a&&this.didUpdate&&this.didUpdate(),this.a||(this.a=!0)}}mount(t){this.e=new i(t),this.update(),this.didMount&&this.didMount()}}var l=window.ic||class{};l.XHR=t,l.xhr=(e,s={},i=null)=>new Promise((a=>t(e,a,s,i))),l.icApp=i,l.pram=t=>{t=t||location.search;for(var e,s={},i=/(?:(?:\?|&)?([^=&?#]*)=([^=&?#]*))/g;e=i.exec(t);)s[e[1]]=decodeURIComponent(e[2]);return s},l.IAR=d,window.ic=l;var p;p=[{t:"h1",txt:"ic-app",at:{id:"ic-app"}},{t:"p",txt:"ic-app is a simple powerful client-render framework. I notice that when build webpage with react or vue, page size about 100-400KB. when I use ic-app, page size was 10KB-50KB. When I make the ic-app, I removed all the useless stuff that I don't need. I'm not recommending ic-app to use instead of react or vue. I made this for simple projects, advanced websites should not use something like this. whether should used or not depend on the project."},{t:"h2",txt:"Usage",at:{id:"usage"}},{ch:["it's very simple to use, you have to target a root element of the page and leave ic-app to handle creation and updates of it. ic-app can use of handle ",{t:"code",txt:"attributes"},", ",{t:"code",txt:"styles"},", ",{t:"code",txt:"child elements"},", ",{t:"code",txt:"style classes"},", ",{t:"code",txt:"data attributes"}," and more. using it might be little bit difficult because, I made it ",{t:"i",txt:"simple and complex"}," syntax to reduce the file size."],t:"p",nodes:1},{ch:["You might think what is my problem with the file size, basically I don't like huge webpages. However, for the best of everyone, we need to reduce the file size. It will make pages load faster. It will reduce the memory (ram) usage of the browser. It will make page work faster. you must heard ",{t:"i",txt:'"simple is the best"'},"."],t:"p",nodes:1},{t:"h2",txt:"Example",at:{id:"example"}},{ch:[{t:"i",txt:"This website also rendered using the ic-app."},{t:"br"},' The following is a simple example of a "clock". I create empty webpage and target the ',{t:"code",txt:"body"}," of the page."],t:"p",nodes:1},{t:"pre",ch:[{t:"code",lang:"html",txt:"<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset=\"utf-8\"/>\n\t\t<title>sample</title>\n\t\t<script type=\"module\">\nimport {IAR} from 'https://cdn.jsdelivr.net/gh/IC-Tech/ic-app/build/ic-app.min.js'\nclass sample extends IAR {\n\tconstructor() {\n\t\tsuper()\n\t\tthis.data = { time: '' }\n\t}\n\tdidMount() {\n\t\tsetInterval(() => {\n\t\t\tvar time = new Date()\n\t\t\tthis.update({time: time.toString()})\n\t\t}, 500)\n\t}\n\trender() {\n\t\treturn ([\n\t\t\t{t: 'p', s: {color: 'red'}, txt: this.data.time}\n\t\t])\n\t}\n}\nnew sample().mount('body')\n\t\t<\/script>\n\t</head>\n\t<body></body>\n</html>",at:{clang:"html"}}]},{ch:[{ch:["(want to test this, checkout ",{t:"a",at:{href:"https://jsbin.com/zofosej"},txt:"jsbin"},", ",{t:"a",at:{href:"https://codepen.io/ImeshChamara/pen/KKmPedZ"},txt:"codepen"},", ",{t:"a",at:{href:"https://jsfiddle.net/IC_Tech/g9pt2seq/"},txt:"jsfiddle"},")"],t:"i",nodes:1}],t:"p"},{t:"h2",txt:"Links",at:{id:"links"}},{ch:["source code: ",{t:"a",at:{href:"https://github.com/IC-Tech/ic-app"},txt:"Github"},", ",{t:"a",at:{href:"https://gitlab.com/IC-Tech/ic-app"},txt:"Gitlab"},{t:"br"}," npm package: ",{t:"a",at:{href:"https://www.npmjs.com/package/ic-app"},txt:"npmjs"},{t:"br"}," CDN link (",{t:"b",txt:"not recommended"},"): ",{t:"a",at:{href:"https://cdn.jsdelivr.net/gh/IC-Tech/ic-app/build/ic-app.js"},txt:"https://cdn.jsdelivr.net/gh/IC-Tech/ic-app/build/ic-app.js"},{t:"br"}," Minified CDN link (",{t:"b",txt:"recommended"},"): ",{t:"a",at:{href:"https://cdn.jsdelivr.net/gh/IC-Tech/ic-app/build/ic-app.min.js"},txt:"https://cdn.jsdelivr.net/gh/IC-Tech/ic-app/build/ic-app.min.js"}],t:"p",nodes:1},{t:"h2",txt:"FAQ",at:{id:"faq"}},{ch:[{ch:["What is ",{t:"code",txt:"ic-app"},"?"],t:"b",nodes:1}],t:"p"},{ch:[{t:"p",txt:"it's a client-render framework, JavaScript library and a npm package."}],t:"blockquote"},{ch:[{t:"b",txt:"What can it do?"}],t:"p"},{ch:[{t:"p",txt:"it can create and update your website simple and fast."}],t:"blockquote"},{ch:[{ch:["What is so special about ",{t:"code",txt:"ic-app"},"?"],t:"b",nodes:1}],t:"p"},{ch:[{t:"p",txt:"nothing, it just a simple library."}],t:"blockquote"},{ch:[{t:"b",txt:"Why should I use it?"}],t:"p"},{ch:[{t:"p",txt:"you should not (unless if you want to use something very simple)."}],t:"blockquote"},{t:"h3",txt:"More",at:{id:"more"}},{ch:[{t:"a",at:{href:"mailto:imesh1chamara@gmail.com"},txt:"Contact or Questions"}],t:"p"}],(new class extends d{constructor(){super(),this.data={ui:0},new i(document.body).sa("theme","dark")}didMount(){this.update({ui:1})}render(){return[{s:{display:0==this.data.ui?"flex":"none"}},{s:{display:1==this.data.ui?"block":"none"},t:"div",cl:"main",ch:[{t:"div",cl:["cont","doc"],at:{id:"main",role:"main"},ch:p},{t:"div",cl:"foot",at:{role:"contentinfo"},ch:[{t:"span",txt:"Copyright © 2021, Imesh Chamara. All rights reserved."}]}]}]}}).mount("#root")}();
